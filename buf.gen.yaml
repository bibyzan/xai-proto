version: v2
clean: true # remove generated files before re-generating
managed:
  enabled: true
plugins:
  # Go plugins
  - remote: buf.build/protocolbuffers/go:v1.34.2
    out: gen/go
    opt: Mxai/api/v1/auth.proto=github.com/bibyzan/xai-proto/gen/go/xai/api/v1,Mxai/api/v1/chat.proto=github.com/bibyzan/xai-proto/gen/go/xai/api/v1,Mxai/api/v1/deferred.proto=github.com/bibyzan/xai-proto/gen/go/xai/api/v1,Mxai/api/v1/embed.proto=github.com/bibyzan/xai-proto/gen/go/xai/api/v1,Mxai/api/v1/image.proto=github.com/bibyzan/xai-proto/gen/go/xai/api/v1,Mxai/api/v1/models.proto=github.com/bibyzan/xai-proto/gen/go/xai/api/v1,Mxai/api/v1/sample.proto=github.com/bibyzan/xai-proto/gen/go/xai/api/v1,Mxai/api/v1/tokenize.proto=github.com/bibyzan/xai-proto/gen/go/xai/api/v1,Mxai/api/v1/usage.proto=github.com/bibyzan/xai-proto/gen/go/xai/api/v1
  - remote: buf.build/grpc/go:v1.5.1
    out: gen/go
    opt: Mxai/api/v1/auth.proto=github.com/bibyzan/xai-proto/gen/go/xai/api/v1,Mxai/api/v1/chat.proto=github.com/bibyzan/xai-proto/gen/go/xai/api/v1,Mxai/api/v1/deferred.proto=github.com/bibyzan/xai-proto/gen/go/xai/api/v1,Mxai/api/v1/embed.proto=github.com/bibyzan/xai-proto/gen/go/xai/api/v1,Mxai/api/v1/image.proto=github.com/bibyzan/xai-proto/gen/go/xai/api/v1,Mxai/api/v1/models.proto=github.com/bibyzan/xai-proto/gen/go/xai/api/v1,Mxai/api/v1/sample.proto=github.com/bibyzan/xai-proto/gen/go/xai/api/v1,Mxai/api/v1/tokenize.proto=github.com/bibyzan/xai-proto/gen/go/xai/api/v1,Mxai/api/v1/usage.proto=github.com/bibyzan/xai-proto/gen/go/xai/api/v1,require_unimplemented_servers=false

  # Python - protoc v30
  - remote: buf.build/protocolbuffers/python:v30.0
    out: gen/python/v6
  - remote: buf.build/grpc/python:v1.72.1
    out: gen/python/v6
  - remote: buf.build/protocolbuffers/pyi:v30.0
    out: gen/python/v6

  # Python - protoc v29
  - remote: buf.build/protocolbuffers/python:v29.1
    out: gen/python/v5
  - remote: buf.build/grpc/python:v1.72.1
    out: gen/python/v5
  - remote: buf.build/protocolbuffers/pyi:v29.1
    out: gen/python/v5
